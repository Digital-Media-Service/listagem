<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Seleção de Empresa da BMFBOVESPA</title>
    <!-- Incluindo Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Incluindo Select2 CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1>Seleção de Empresa da BMFBOVESPA</h1>

        <!-- Campo de busca inteligente -->
        <div class="form-group">
            <label for="empresaSelect">Buscar empresa:</label>
            <select class="form-control" id="empresaSelect">
                <option value="">Digite o nome ou sigla da empresa...</option>
                <!-- Opções de empresas da BMFBOVESPA -->
				        <option>AALR3   </option>
<option>ABEV3   </option>
<option>AERI3   </option>
<option>AGRO3   </option>
<option>ALLD3   </option>
<option>ALPA3   </option>
<option>ALPA4   </option>
<option>ALUP11  </option>
<option>AMAR3   </option>
<option>AMER3   </option>
<option>ARZZ3   </option>
<option>AZUL4   </option>
<option>B3SA3   </option>
<option>BBAS3   </option>
<option>BBDC3   </option>
<option>BBDC4   </option>
<option>BBSE3   </option>
<option>BEEF3   </option>
<option>BKBR3   </option>
<option>BLAU3   </option>
<option>BMGB4   </option>
<option>BOVA11  </option>
<option>BOVV11  </option>
<option>BPAC11  </option>
<option>BPAN4   </option>
<option>BRAP4   </option>
<option>BRFS3   </option>
<option>BRKM5   </option>
<option>BRSR6   </option>
<option>CAML3   </option>
<option>CASH3   </option>
<option>CCRO3   </option>
<option>CLSA3   </option>
<option>CMIG4   </option>
<option>CMIN3   </option>
<option>CPFE3   </option>
<option>CPLE6   </option>
<option>CRFB3   </option>
<option>CSAN3   </option>
<option>CSMG3   </option>
<option>CSNA3   </option>
<option>CVCB3   </option>
<option>CYRE3   </option>
<option>DOTZ3   </option>
<option>ECOR3   </option>
<option>EGIE3   </option>
<option>ELET3   </option>
<option>ELET6   </option>
<option>EMBR3   </option>
<option>ENAT3   </option>
<option>ENEV3   </option>
<option>ESPA3   </option>
<option>ETER3   </option>
<option>EVEN3   </option>
<option>EZTC3   </option>
<option>FESA3   </option>
<option>FESA4   </option>
<option>FLRY3   </option>
<option>FRAS3   </option>
<option>GFSA3   </option>
<option>GGBR3   </option>
<option>GGBR4   </option>
<option>GGPS3   </option>
<option>GOAU4   </option>
<option>GOLL4   </option>
<option>GRND3   </option>
<option>GUAR3   </option>
<option>HAPV3   </option>
<option>HBOR3   </option>
<option>HYPE3   </option>
<option>IBOV    </option>
<option>IRBR3   </option>
<option>ITSA3   </option>
<option>ITSA4   </option>
<option>ITUB4   </option>
<option>IVVB11  </option>
<option>JBSS3   </option>
<option>JHSF3   </option>
<option>JSLG3   </option>
<option>KLBN11  </option>
<option>KLBN4   </option>
<option>LEVE3   </option>
<option>LIGT3   </option>
<option>LJQQ3   </option>
<option>LOGG3   </option>
<option>LOGN3   </option>
<option>LPSB3   </option>
<option>LREN3   </option>
<option>LUPA3   </option>
<option>MBLY3   </option>
<option>MDIA3   </option>
<option>MEAL3   </option>
<option>MGLU3   </option>
<option>MILS3   </option>
<option>MLAS3   </option>
<option>MOVI3   </option>
<option>MRFG3   </option>
<option>MRVE3   </option>
<option>MULT3   </option>
<option>NEOE3   </option>
<option>NTCO3   </option>
<option>ODPV3   </option>
<option>OIBR3   </option>
<option>OIBR4   </option>
<option>PETR4   </option>
<option>PINE4   </option>
<option>PMAM3   </option>
<option>POMO3   </option>
<option>POMO4   </option>
<option>POSI3   </option>
<option>PRIO3   </option>
<option>PSSA3   </option>
<option>PTBL3   </option>
<option>QUAL3   </option>
<option>RADL3   </option>
<option>RAIL3   </option>
<option>RAPT4   </option>
<option>RCSL4   </option>
<option> RENT3  </option>
<option> RNEW3  </option>
<option> ROMI3  </option>
<option> RRRP3  </option>
<option> SANB11 </option>
<option> SAPR11 </option>
<option> SAPR4  </option>
<option> SBFG3  </option>
<option> SBSP3  </option>
<option> SEER3  </option>
<option> SHOW3  </option>
<option> SHUL4  </option>
<option> SLCE3  </option>
<option> SMFT3  </option>
<option> SMTO3  </option>
<option> SOMA3  </option>
<option> STBP3  </option>
<option> SUZB3  </option>
<option> TAEE11 </option>
<option> TASA4  </option>
<option> TCSA3  </option>
<option> TECN3  </option>
<option> TELB3  </option>
<option> TELB4  </option>
<option> TEND3  </option>
<option> TGMA3  </option>
<option> TIMS3  </option>
<option> TOTS3  </option>
<option> TPIS3  </option>
<option> TRAD3  </option>
<option> TRIS3  </option>
<option> TRPL4  </option>
<option> TUPY3  </option>
<option> UGPA3  </option>
<option> USDBRL </option>
<option> USIM5  </option>
<option> VALE3  </option>
<option> VAMO3  </option>
<option> VIVA3  </option>
<option> VIVR3  </option>
<option> VLID3  </option>
<option> VULC3  </option>
<option> WEGE3  </option>
<option> WEST3  </option>
<option> YDUQ3  </option>
<option> RECV3  </option>
<option> KEPL3  </option>
<option> AESB3  </option>
<option> BHIA3  </option>
<option> CEAB3  </option>
<option> DIRR3  </option>
<option> PETZ3  </option>
<option> SOJA3  </option>
                <option value="PETR4">Petrobras</option>
                <option value="VALE3">Vale</option>
                <option value="ITUB4">Itaú Unibanco</option>
                <!-- Adicione mais opções conforme necessário -->
            </select>
        </div>

        <!-- Modal com três telas -->
        <div class="modal" id="processamentoModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Processamento da Empresa Selecionada</h4>
                    </div>
                    <!-- Modal Body -->
                    <div class="modal-body" id="modalBody">
                       <p>Calculando via Inteligência Artificial...</p>
                    </div>
                    <!-- Modal Footer -->
                    <div class="modal-footer">
						<button id="btnEnviarWhatsApp" class="btn btn-success d-none">
            <img src="whatsapp-icon.png" width="20" height="20">
            Enviar via WhatsApp
        </button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Botão de WhatsApp -->
        
    </div>

    <!-- Incluindo jQuery e Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Incluindo Select2 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

    <script>
        $(document).ready(function() {
            // Ativar campo de busca inteligente com o plugin Select2
            $('#empresaSelect').select2({
                placeholder: 'Digite o nome ou sigla da empresa...',
                allowClear: true
            });

            // Abrir modal ao selecionar uma empresa
            $('#empresaSelect').change(function() {
                const empresaSelecionada = $(this).val();
                $('#processamentoModal').modal('show');

                // Simular processamento passo a passo no modal
                const processos = [
                    "Calculando via Inteligência Artificial...",
                    "Passando pelo modelo de estratégia orientada a eventos...",
                    "Confirmando o valor do risco através do sistema VAR...",
					"Relatório Finalizado"
                ];

                let passoAtual = 0;
                const modalBody = $('#modalBody');

                const interval = setInterval(function() {
                    modalBody.html('<p>' + (passoAtual + 1) + ': ' + processos[passoAtual] + '</p>');
                    passoAtual++;
                    if (passoAtual >= processos.length) {
                        clearInterval(interval);
                        modalBody.append('<h4><b>EMPRESA:</B> ' + $('#empresaSelect option:selected').text() + '</h4>');
                        $('#btnEnviarWhatsApp').removeClass('d-none');
                    }
                }, 2000); // Intervalo de 2 segundos entre cada passo
            });

            // Enviar via WhatsApp ao clicar no botão
            $('#btnEnviarWhatsApp').click(function() {
                const empresaSelecionada = $('#empresaSelect option:selected').text();
                const urlWhatsApp = 'https://wa.me/5585988835761?text=Selecionei a empresa ' + empresaSelecionada + '. Clique no link para enviar via WhatsApp.';
                window.open(urlWhatsApp, '_blank');
            });
        });
    </script>
</body>
</html>
